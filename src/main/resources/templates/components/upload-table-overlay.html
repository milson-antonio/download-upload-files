<div class="" style="position: relative;" id="table-container">

  <!-- quase tudo mostrado na pÃ¡gina esta aqui -->
  <div class="container"  style="padding-top:5%">
    <div class="upload" th:insert="~{components/upload}"> </div>
    <div class="table" th:insert="~{components/table}"> </div>
    <div class="overlay" th:insert="~{components/overlay}"> </div>
  </div>

  <!-- alert (mostrador de mensagens) -->
  <div th:if="${showAlert && alertMessage != null && alertMessage != ''}" th:replace="~{components/alert}"></div>

  <!-- funcao js para lidar e esconder por default o overlay -->
  <script th:inline="javascript">
    /*<![CDATA[*/
    document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('overlay').style.display = 'none';
      // Ensure body is not affected by any modal or overlay
      document.body.style.overflow = 'auto';
      document.body.style.paddingRight = '0';
    });

    var serverResponse = /*[[${serverResponse}]]*/ false;
    if (serverResponse) {
      document.getElementById('table-container').classList.remove('disabled');
      document.getElementById('table-container').style.pointerEvents = "auto";
      document.getElementById('overlay').style.display = 'none';

      // Ensure body is not affected by any modal or overlay
      document.body.style.overflow = 'auto';
      document.body.style.paddingRight = '0';

      // Force any modal backdrop to be removed
      const modalBackdrops = document.querySelectorAll('.modal-backdrop');
      modalBackdrops.forEach(backdrop => {
        backdrop.remove();
      });
    }
    /*]]>*/
  </script>


  <script>
    document.getElementById('form').addEventListener('submit', function () {
      const overlay = document.getElementById('overlay');
      overlay.style.display = 'flex'; // mostra o overlay com spinner
      document.getElementById('table-container').classList.add('disabled');
      document.getElementById("table-container").style.pointerEvents = "none";
    });
  </script>



  <!-- some css styles -->
  <style>
    .col-name {
      width: 30%;
      word-break: break-word;
    }

    @media (max-width: 768px) {
      .col-name {
        width: 40%;
      }
    }

    @media (max-width: 480px) {
      .col-name {
        width: 100%;
        display: block;
      }
    }
  </style>

  <style>
    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    #alertID.custom-alert {
      width: 100%;
      max-width: 100%;
      margin: 0;
    }

    #alertID.custom-alert .close {
      margin-left: 10px;
    }

    @media (min-width: 768px) {
      #alertID.custom-alert {
        width: 500px;
        max-width: 500px;
      }
    }
  </style>

</div>
